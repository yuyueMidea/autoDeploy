const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-Cckn04aT.js","assets/vendor-5kUzFu23.js","assets/LoginPage-DmackE-v.js","assets/LoginPage-CaLd4svl.css","assets/About-Bf05YCh1.js","assets/CryptoPage-f4_c6xDF.js","assets/Contract-BwslNls8.js","assets/Contract-CQkDZ5qc.css","assets/FormDesigner-CarKDuC2.js","assets/FormDesigner-C9MtEe3c.css","assets/CalculationView-Bxkzzm0e.js","assets/WebSocketPage-BAsUzFd6.js","assets/WebSocketPage-CvMpOmu9.css","assets/NotFound-BGtVbBtN.js"])))=>i.map(i=>d[i]);
import{c as y,r as A,o as n,d as R,a as l,b as c,e as P,t as f,u as d,F as E,f as N,g,w as v,h as w,T as $,K as V,i as F,j as B,k as x,_ as a,l as L,m as J,n as M}from"./vendor-5kUzFu23.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const _ of i.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&r(_)}).observe(document,{childList:!0,subtree:!0});function o(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=o(s);fetch(s.href,i)}})();const S=(e,t)=>{const o=e.__vccOpts||e;for(const[r,s]of t)o[r]=s;return o},j={};function K(e,t){const o=A("router-view");return n(),y(o)}const G=S(j,[["render",K]]);let p=[];function m(e){p=Array.isArray(e)?e:[],localStorage.setItem("user_permissions",JSON.stringify(p))}function H(){if(p.length===0){const e=localStorage.getItem("user_permissions");p=e?JSON.parse(e):[]}return p}function I(e){if(!e)return!0;const t=H();return Array.isArray(e)?e.every(o=>t.includes(o)):t.includes(e)}const W={mounted(e,t){var r;const{value:o}=t;I(o)||(r=e.parentNode)==null||r.removeChild(e)}},q={methods:{$hasPermission(e){return I(e)}}},O=R("app1",{state:()=>({count:0,cmenuName:"",logRouterFlag:!1,logClickFlag:!1,loading:!1,error:"",username:"",password:"",crole:"",isAuthenticated:!1,passwordLevel:0,cachedComList:[],sideBarCollapse:!1}),actions:{increment(){this.count++},toggleLogRouter(){this.logRouterFlag=!this.logRouterFlag},setMenuName(e){this.cmenuName=e},setCrole(e){this.crole=e},setisAuthenticated(e){this.isAuthenticated=e},logOut(){this.crole="",this.password="",this.username="",this.isAuthenticated=!1,localStorage.removeItem("authToken")},login(e,t){e==="superAdmin"?(this.setPassword(5),this.setCrole(e),this.setisAuthenticated(!0),localStorage.setItem("authToken",`mock-jwt-token-${t}`),m(["admin","guest"])):e==="admin"?(this.setPassword(3),this.setCrole(e),this.setisAuthenticated(!0),localStorage.setItem("authToken",`mock-jwt-token-${t}`),m(["admin","guest"])):e==="operator"?(this.setPassword(2),this.setCrole(e),this.setisAuthenticated(!0),m(["operator"])):e==="guest"?(this.setPassword(1),this.setCrole(e),this.setisAuthenticated(!0),m(["guest"])):this.error="用户名或密码错误"},setPassword(e){this.passwordLevel=e},setError(){this.error="用户名或密码不能为空"},setcachedComList(e){this.cachedComList=e},toggleCollapse(){this.sideBarCollapse=!this.sideBarCollapse}}}),z={class:"layout"},Q={class:"top-bar"},U={class:"p-5"},X={key:0,class:"user-info"},Y={class:"main-content"},Z={class:"side-menu"},ee={class:"menu-list"},te={class:"content-area"},se={__name:"Layout",props:{routeList:{type:Array,default:()=>[]}},setup(e){const o=e.routeList.filter(i=>!i.hide),r=O(),s=()=>{r.logOut(),k.push("/login"),m([])};return(i,_)=>{const D=A("router-link"),T=A("router-view");return n(),l("div",z,[c("div",Q,[c("div",U,f(d(r).cmenuName),1),d(r).isAuthenticated?(n(),l("div",X,[c("span",null,"welcome, "+f(d(r).crole),1),c("button",{onClick:s,class:"btn"},"退出")])):P("",!0)]),c("div",Y,[c("div",Z,[c("ul",ee,[(n(!0),l(E,null,N(d(o),(h,b)=>(n(),l("li",{key:b},[g(D,{to:h.path},{default:v(()=>[w(f(h.name),1)]),_:2},1032,["to"])]))),128))])]),c("div",te,[g(T,null,{default:v(({Component:h})=>[g($,{name:"fade",mode:"out-in"},{default:v(()=>[(n(),y(V,{include:d(r).cachedComList},[(n(),y(F(h)))],1032,["include"]))]),_:2},1024)]),_:1})])])])}}},oe=S(se,[["__scopeId","data-v-ec615dcd"]]);function re(e){const t=JSON.parse(localStorage.getItem("userLogs")||"[]");t.push(e),localStorage.setItem("userLogs",JSON.stringify(t))}function ie(e){const t=JSON.parse(localStorage.getItem("evtLogs")||"[]");t.push(e),localStorage.setItem("evtLogs",JSON.stringify(t))}const C=[{path:"/",name:"首页",component:()=>a(()=>import("./Home-Cckn04aT.js"),__vite__mapDeps([0,1]))},{path:"/login",name:"登录",component:()=>a(()=>import("./LoginPage-DmackE-v.js"),__vite__mapDeps([2,1,3]))},{path:"/about",name:"关于",component:()=>a(()=>import("./About-Bf05YCh1.js"),__vite__mapDeps([4,1]))},{path:"/cryptoPage",name:"数据加密",component:()=>a(()=>import("./CryptoPage-f4_c6xDF.js"),__vite__mapDeps([5,1]))},{path:"/contract",name:"用户管理",component:()=>a(()=>import("./Contract-BwslNls8.js"),__vite__mapDeps([6,1,7]))},{path:"/formDesigner",name:"表单设计器",component:()=>a(()=>import("./FormDesigner-CarKDuC2.js"),__vite__mapDeps([8,1,9]))},{path:"/calculation",name:"worker计算",component:()=>a(()=>import("./CalculationView-Bxkzzm0e.js"),__vite__mapDeps([10,1]))},{path:"/webSocketPage",name:"WebSocket连接",component:()=>a(()=>import("./WebSocketPage-BAsUzFd6.js"),__vite__mapDeps([11,1,12]))},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>a(()=>import("./NotFound-BGtVbBtN.js"),__vite__mapDeps([13,1])),hide:!0}],k=B({history:x("/autoDeploy/"),routes:[{path:"/",props:{routeList:C},component:oe,children:C}]});k.afterEach((e,t)=>{const o=O();o.setMenuName(e.name),o.logRouterFlag&&re({from:t.fullPath,to:e.fullPath,routeName:e.name||"unnamed",timestamp:new Date().toISOString()})});const ne={mounted(e,t){const o=O(),r=t.arg||"click",s=t.value;e.addEventListener(r,i=>{o.logClickFlag&&ie({timestamp:new Date().toISOString(),element:e.tagName.toLowerCase(),id:e.id||null,class:e.className||null,text:e.textContent.trim().substring(0,50),...typeof s=="object"?s:{value:s}})})}},ae={class:"global-list"},ce={key:0,class:"list-header"},le={class:"list-content"},ue={key:1,class:"list-footer"},de={__name:"GlobalList",props:{items:{type:Array,default:()=>[]}},setup(e){return(t,o)=>(n(),l("div",ae,[t.$slots.header?(n(),l("div",ce,[L(t.$slots,"header",{},void 0)])):P("",!0),c("div",le,[(n(!0),l(E,null,N(e.items,(r,s)=>(n(),l("li",{key:s,class:"list-item"},[L(t.$slots,"default",{item:r,index:s},()=>[w(f(r),1)])]))),128))]),t.$slots.footer?(n(),l("div",ue,[L(t.$slots,"footer",{},void 0)])):P("",!0)]))}},me=S(de,[["__scopeId","data-v-495763b6"]]),u=J(G);u.use(M());u.component("CommonList",me);u.directive("track",ne);u.directive("permission",W);u.mixin(q);u.use(k);u.mount("#app");export{S as _,k as r,O as u};
