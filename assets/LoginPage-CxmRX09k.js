import{a as d,B as i,e as p,o as c,f as o,g as f,v,z as m,t as _}from"./vendor-DpYf_-LF.js";import{_ as b,u as h,r as x}from"./index-DGSO2Pzb.js";const y={class:"login-form"},L={class:"form-group"},k={class:"form-group"},w=["disabled"],B={key:0,class:"error-message"},C={__name:"LoginPage",setup(S){const t=d(""),a=d(""),s=h(),l=i(()=>s.loading),n=i(()=>s.error),g=async()=>{try{if(t.value===""||a.value==="")return s.setError();s.setCrole(t.value),console.log("loginnnn__: ",t.value,a.value),s.login(t.value,a.value),x.push("/"),s.setcachedComList(["calcPage"])}catch(u){console.error("handle_submit_ERR: ",u)}};return(u,e)=>(c(),p("div",y,[o("div",L,[e[2]||(e[2]=o("label",{for:"name"},"用户名",-1)),v(o("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=r=>t.value=r),required:"",placeholder:"请输入用户名"},null,512),[[m,t.value]])]),o("div",k,[e[3]||(e[3]=o("label",{for:"pwd"},"密码",-1)),v(o("input",{type:"text",id:"pwd","onUpdate:modelValue":e[1]||(e[1]=r=>a.value=r),required:"",placeholder:"请输入密码"},null,512),[[m,a.value]])]),o("button",{disabled:l.value,onClick:g},_(l.value?"登录中...":"登录"),9,w),n.value?(c(),p("div",B,_(n.value),1)):f("",!0)]))}},P=b(C,[["__scopeId","data-v-124354bd"]]);export{P as default};
