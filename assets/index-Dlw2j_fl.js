const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-sFw21v0j.js","assets/vendor-D_AaPtq8.js","assets/LoginPage-BGg8uk3w.js","assets/LoginPage-CaLd4svl.css","assets/About-CRWzBlNT.js","assets/CryptoPage-J1rM259P.js","assets/Contract-CLd6GSn6.js","assets/Contract-CQkDZ5qc.css","assets/CalculationView-DM-7xm8y.js","assets/WebSocketPage-qM2A00xK.js","assets/WebSocketPage-CvMpOmu9.css","assets/NotFound-CeIBY6z2.js"])))=>i.map(i=>d[i]);
import{c as L,r as y,o as a,d as R,a as c,b as i,e as S,t as h,u as d,F as E,f as w,g as f,w as g,h as I,T as $,K as V,i as F,j as x,k as J,_ as l,l as v,m as M,n as B}from"./vendor-D_AaPtq8.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const p of n.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const P=(e,t)=>{const s=e.__vccOpts||e;for(const[r,o]of t)s[r]=o;return s},j={};function K(e,t){const s=y("router-view");return a(),L(s)}const G=P(j,[["render",K]]);let m=[];function A(e){m=Array.isArray(e)?e:[],localStorage.setItem("user_permissions",JSON.stringify(m))}function H(){if(m.length===0){const e=localStorage.getItem("user_permissions");m=e?JSON.parse(e):[]}return m}function C(e){if(!e)return!0;const t=H();return Array.isArray(e)?e.every(s=>t.includes(s)):t.includes(e)}const W={mounted(e,t){var r;const{value:s}=t;C(s)||(r=e.parentNode)==null||r.removeChild(e)}},q={methods:{$hasPermission(e){return C(e)}}},O=R("app1",{state:()=>({count:0,cmenuName:"",logRouterFlag:!1,logClickFlag:!1,loading:!1,error:"",username:"",password:"",crole:"",isAuthenticated:!1,passwordLevel:0,cachedComList:[]}),actions:{increment(){this.count++},toggleLogRouter(){this.logRouterFlag=!this.logRouterFlag},setMenuName(e){this.cmenuName=e},setCrole(e){this.crole=e},setisAuthenticated(e){this.isAuthenticated=e},logOut(){this.crole="",this.password="",this.username="",this.isAuthenticated=!1,localStorage.removeItem("authToken")},login(e,t){e==="admin"?(this.setPassword(3),this.setCrole(e),this.setisAuthenticated(!0),localStorage.setItem("authToken",`mock-jwt-token-${t}`),A(["admin","guest"])):e==="guest"?(this.setPassword(1),this.setCrole(e),this.setisAuthenticated(!0),A(["guest"])):this.error="用户名或密码错误"},setPassword(e){this.passwordLevel=e},setError(){this.error="用户名或密码不能为空"},setcachedComList(e){this.cachedComList=e}}}),z={class:"layout"},Q={class:"top-bar"},U={class:"p-5"},X={key:0,class:"user-info"},Y={class:"main-content"},Z={class:"side-menu"},ee={class:"content-area"},te={__name:"Layout",props:{routeList:{type:Array,default:()=>[]}},setup(e){const s=e.routeList.filter(n=>!n.hide),r=O(),o=()=>{r.logOut(),N.push("/login"),A([])};return(n,p)=>{const b=y("router-link"),D=y("router-view");return a(),c("div",z,[i("div",Q,[i("div",U,h(d(r).cmenuName),1),d(r).isAuthenticated?(a(),c("div",X,[i("span",null,"welcome, "+h(d(r).crole),1),i("button",{onClick:o,class:"btn"},"退出")])):S("",!0)]),i("div",Y,[i("div",Z,[i("ul",null,[(a(!0),c(E,null,w(d(s),(_,T)=>(a(),c("li",{key:T},[f(b,{to:_.path},{default:g(()=>[I(h(_.name),1)]),_:2},1032,["to"])]))),128))])]),i("div",ee,[f(D,null,{default:g(({Component:_})=>[f($,{name:"fade",mode:"out-in"},{default:g(()=>[(a(),L(V,{include:d(r).cachedComList},[(a(),L(F(_)))],1032,["include"]))]),_:2},1024)]),_:1})])])])}}},oe=P(te,[["__scopeId","data-v-f2cfbe21"]]);function se(e){const t=JSON.parse(localStorage.getItem("userLogs")||"[]");t.push(e),localStorage.setItem("userLogs",JSON.stringify(t))}function re(e){const t=JSON.parse(localStorage.getItem("evtLogs")||"[]");t.push(e),localStorage.setItem("evtLogs",JSON.stringify(t))}const k=[{path:"/",name:"首页",component:()=>l(()=>import("./Home-sFw21v0j.js"),__vite__mapDeps([0,1]))},{path:"/login",name:"登录",component:()=>l(()=>import("./LoginPage-BGg8uk3w.js"),__vite__mapDeps([2,1,3]))},{path:"/about",name:"关于",component:()=>l(()=>import("./About-CRWzBlNT.js"),__vite__mapDeps([4,1]))},{path:"/cryptoPage",name:"数据加密",component:()=>l(()=>import("./CryptoPage-J1rM259P.js"),__vite__mapDeps([5,1]))},{path:"/contract",name:"联系我们",component:()=>l(()=>import("./Contract-CLd6GSn6.js"),__vite__mapDeps([6,1,7]))},{path:"/calculation",name:"worker计算",component:()=>l(()=>import("./CalculationView-DM-7xm8y.js"),__vite__mapDeps([8,1]))},{path:"/webSocketPage",name:"WebSocket连接",component:()=>l(()=>import("./WebSocketPage-qM2A00xK.js"),__vite__mapDeps([9,1,10]))},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>l(()=>import("./NotFound-CeIBY6z2.js"),__vite__mapDeps([11,1]))}],N=x({history:J("/autoDeploy/"),routes:[{path:"/",props:{routeList:k},component:oe,children:k}]});N.afterEach((e,t)=>{const s=O();s.setMenuName(e.name),s.logRouterFlag&&se({from:t.fullPath,to:e.fullPath,routeName:e.name||"unnamed",timestamp:new Date().toISOString()})});const ne={mounted(e,t){const s=O(),r=t.arg||"click",o=t.value;e.addEventListener(r,n=>{s.logClickFlag&&re({timestamp:new Date().toISOString(),element:e.tagName.toLowerCase(),id:e.id||null,class:e.className||null,text:e.textContent.trim().substring(0,50),...typeof o=="object"?o:{value:o}})})}},ae={class:"global-list"},ie={key:0,class:"list-header"},ce={class:"list-content"},le={key:1,class:"list-footer"},ue={__name:"GlobalList",props:{items:{type:Array,default:()=>[]}},setup(e){return(t,s)=>(a(),c("div",ae,[t.$slots.header?(a(),c("div",ie,[v(t.$slots,"header",{},void 0)])):S("",!0),i("div",ce,[(a(!0),c(E,null,w(e.items,(r,o)=>(a(),c("li",{key:o,class:"list-item"},[v(t.$slots,"default",{item:r,index:o},()=>[I(h(r),1)])]))),128))]),t.$slots.footer?(a(),c("div",le,[v(t.$slots,"footer",{},void 0)])):S("",!0)]))}},de=P(ue,[["__scopeId","data-v-495763b6"]]),u=M(G);u.use(B());u.component("CommonList",de);u.directive("track",ne);u.directive("permission",W);u.mixin(q);u.use(N);u.mount("#app");export{P as _,N as r,O as u};
