const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-DmCUDwdD.js","assets/vendor-BxZyEcZi.js","assets/LoginPage-BIK4vGWU.js","assets/LoginPage-CaLd4svl.css","assets/About-D6Qut0rW.js","assets/CryptoPage-DBMYa6jf.js","assets/Contract-DCLwNHia.js","assets/Contract-CQkDZ5qc.css","assets/FormDesigner-DbCR6ip_.js","assets/FormDesigner-C9MtEe3c.css","assets/CalculationView-DUmexM2c.js","assets/WebSocketPage-DqzlAg39.js","assets/WebSocketPage-CvMpOmu9.css","assets/NotFound-CmbbLxOb.js"])))=>i.map(i=>d[i]);
import{c as L,r as b,o as i,d as M,a as J,b as j,e as u,f as n,g as k,n as E,u as d,t as p,F as T,h as D,i as g,w as v,j as R,T as K,K as q,k as G,l as H,m as W,_ as l,p as y,q as z,s as Q}from"./vendor-BxZyEcZi.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}})();const C=(e,t)=>{const s=e.__vccOpts||e;for(const[r,o]of t)s[r]=o;return s},U={};function X(e,t){const s=b("router-view");return i(),L(s)}const Y=C(U,[["render",X]]);let f=[];function h(e){f=Array.isArray(e)?e:[],localStorage.setItem("user_permissions",JSON.stringify(f))}function Z(){if(f.length===0){const e=localStorage.getItem("user_permissions");f=e?JSON.parse(e):[]}return f}function $(e){if(!e)return!0;const t=Z();return Array.isArray(e)?e.every(s=>t.includes(s)):t.includes(e)}const ee={mounted(e,t){var r;const{value:s}=t;$(s)||(r=e.parentNode)==null||r.removeChild(e)}},te={methods:{$hasPermission(e){return $(e)}}},S=M("app1",{state:()=>({count:0,cmenuName:"",logRouterFlag:!1,logClickFlag:!1,loading:!1,error:"",username:"",password:"",crole:"",isAuthenticated:!1,passwordLevel:0,cachedComList:[],sideBarCollapse:!1}),actions:{increment(){this.count++},toggleLogRouter(){this.logRouterFlag=!this.logRouterFlag},setMenuName(e){this.cmenuName=e},setCrole(e){this.crole=e},setisAuthenticated(e){this.isAuthenticated=e},logOut(){this.crole="",this.password="",this.username="",this.isAuthenticated=!1,localStorage.removeItem("authToken")},login(e,t){e==="superAdmin"?(this.setPassword(5),this.setCrole(e),this.setisAuthenticated(!0),localStorage.setItem("authToken",`mock-jwt-token-${t}`),h(["admin","guest"])):e==="admin"?(this.setPassword(3),this.setCrole(e),this.setisAuthenticated(!0),localStorage.setItem("authToken",`mock-jwt-token-${t}`),h(["admin","guest"])):e==="operator"?(this.setPassword(2),this.setCrole(e),this.setisAuthenticated(!0),h(["operator"])):e==="guest"?(this.setPassword(1),this.setCrole(e),this.setisAuthenticated(!0),h(["guest"])):this.error="用户名或密码错误"},setPassword(e){this.passwordLevel=e},setError(){this.error="用户名或密码不能为空"},setcachedComList(e){this.cachedComList=e},toggleCollapse(){this.sideBarCollapse=!this.sideBarCollapse}}}),I={light:{"--primary-color":"#42b983","--secondary-color":"#34495e","--background-color":"#ffffff","--text-color":"#2c3e50","--border-color":"#eaeaea","--sidebar-bg":"#34495e","--sidebar-text":"#ecf0f1","--topbar-bg":"#2c3e50","--topbar-text":"#ffffff"},dark:{"--primary-color":"#42b983","--secondary-color":"#1a1a1a","--background-color":"#676767","--text-color":"#f5f5f5","--border-color":"#333333","--sidebar-bg":"#1a1a1a","--sidebar-text":"#f5f5f5","--topbar-bg":"#121212","--topbar-text":"#ffffff"}};function w(e){const t=I[e]||I.light;Object.keys(t).forEach(s=>{document.documentElement.style.setProperty(s,t[s])}),localStorage.setItem("theme",e)}function oe(){return localStorage.getItem("theme")||"light"}const se={class:"layout"},re={class:"top-bar"},ae={class:"topbar_left"},ne={class:"p-5"},ie={class:"topbar_right"},ce={key:0,class:"user-info"},le={class:"main-content"},ue={class:"menu-list"},de={class:"content-area"},me={__name:"Layout",props:{routeList:{type:Array,default:()=>[]}},setup(e){const s=e.routeList.filter(P=>!P.hide),r=S(),o=()=>{r.logOut(),A.push("/login"),h([])},a=()=>{r.toggleCollapse()},c=J(oe()),V=()=>{c.value=c.value==="light"?"dark":"light",w(c.value)};return j(()=>{w(c.value)}),(P,O)=>{const x=b("router-link"),F=b("router-view");return i(),u("div",se,[n("div",re,[n("div",ae,[n("button",{class:E(["menu-toggle",{"icon-collapsed":d(r).sideBarCollapse}]),onClick:a},O[0]||(O[0]=[n("span",{class:"icon"},"☰",-1)]),2),n("span",ne,p(d(r).cmenuName),1)]),n("div",ie,[n("button",{class:"theme-toggle",onClick:V},p(c.value==="light"?"🌙":"☀️"),1)]),d(r).isAuthenticated?(i(),u("div",ce,[n("span",null,"welcome, "+p(d(r).crole),1),n("button",{onClick:o,class:"btn"},"退出")])):k("",!0)]),n("div",le,[n("div",{class:E(["side-menu",{"menu-collapsed":d(r).sideBarCollapse}])},[n("ul",ue,[(i(!0),u(T,null,D(d(s),(_,B)=>(i(),u("li",{key:B},[g(x,{to:_.path},{default:v(()=>[R(p(_.name),1)]),_:2},1032,["to"])]))),128))])],2),n("div",de,[g(F,null,{default:v(({Component:_})=>[g(K,{name:"fade",mode:"out-in"},{default:v(()=>[(i(),L(q,{include:d(r).cachedComList},[(i(),L(G(_)))],1032,["include"]))]),_:2},1024)]),_:1})])])])}}},pe=C(me,[["__scopeId","data-v-12dea1e1"]]);function he(e){const t=JSON.parse(localStorage.getItem("userLogs")||"[]");t.push(e),localStorage.setItem("userLogs",JSON.stringify(t))}function fe(e){const t=JSON.parse(localStorage.getItem("evtLogs")||"[]");t.push(e),localStorage.setItem("evtLogs",JSON.stringify(t))}const N=[{path:"/",name:"首页",component:()=>l(()=>import("./Home-DmCUDwdD.js"),__vite__mapDeps([0,1]))},{path:"/login",name:"登录",component:()=>l(()=>import("./LoginPage-BIK4vGWU.js"),__vite__mapDeps([2,1,3]))},{path:"/about",name:"关于",component:()=>l(()=>import("./About-D6Qut0rW.js"),__vite__mapDeps([4,1]))},{path:"/cryptoPage",name:"数据加密",component:()=>l(()=>import("./CryptoPage-DBMYa6jf.js"),__vite__mapDeps([5,1]))},{path:"/contract",name:"用户管理",component:()=>l(()=>import("./Contract-DCLwNHia.js"),__vite__mapDeps([6,1,7]))},{path:"/formDesigner",name:"表单设计器",component:()=>l(()=>import("./FormDesigner-DbCR6ip_.js"),__vite__mapDeps([8,1,9]))},{path:"/calculation",name:"worker计算",component:()=>l(()=>import("./CalculationView-DUmexM2c.js"),__vite__mapDeps([10,1]))},{path:"/webSocketPage",name:"WebSocket连接",component:()=>l(()=>import("./WebSocketPage-DqzlAg39.js"),__vite__mapDeps([11,1,12]))},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>l(()=>import("./NotFound-CmbbLxOb.js"),__vite__mapDeps([13,1])),hide:!0}],A=H({history:W("/autoDeploy/"),routes:[{path:"/",props:{routeList:N},component:pe,children:N}]});A.afterEach((e,t)=>{const s=S();s.setMenuName(e.name),s.logRouterFlag&&he({from:t.fullPath,to:e.fullPath,routeName:e.name||"unnamed",timestamp:new Date().toISOString()})});const _e={mounted(e,t){const s=S(),r=t.arg||"click",o=t.value;e.addEventListener(r,a=>{s.logClickFlag&&fe({timestamp:new Date().toISOString(),element:e.tagName.toLowerCase(),id:e.id||null,class:e.className||null,text:e.textContent.trim().substring(0,50),...typeof o=="object"?o:{value:o}})})}},ge={class:"global-list"},ve={key:0,class:"list-header"},ye={class:"list-content"},Le={key:1,class:"list-footer"},be={__name:"GlobalList",props:{items:{type:Array,default:()=>[]}},setup(e){return(t,s)=>(i(),u("div",ge,[t.$slots.header?(i(),u("div",ve,[y(t.$slots,"header",{},void 0)])):k("",!0),n("div",ye,[(i(!0),u(T,null,D(e.items,(r,o)=>(i(),u("li",{key:o,class:"list-item"},[y(t.$slots,"default",{item:r,index:o},()=>[R(p(r),1)])]))),128))]),t.$slots.footer?(i(),u("div",Le,[y(t.$slots,"footer",{},void 0)])):k("",!0)]))}},ke=C(be,[["__scopeId","data-v-495763b6"]]),m=z(Y);m.use(Q());m.component("CommonList",ke);m.directive("track",_e);m.directive("permission",ee);m.mixin(te);m.use(A);m.mount("#app");export{C as _,A as r,S as u};
