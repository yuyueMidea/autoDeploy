import{p as d,z as i,a as p,o as c,b as o,e as f,q as m,x as v,t as _}from"./vendor-D0inrJyg.js";import{_ as b,u as h,r as x}from"./index-mXy8obUI.js";const y={class:"login-form"},L={class:"form-group"},k={class:"form-group"},w=["disabled"],C={key:0,class:"error-message"},S={__name:"LoginPage",setup(V){const t=d(""),a=d(""),s=h(),l=i(()=>s.loading),n=i(()=>s.error),g=async()=>{try{if(t.value===""||a.value==="")return s.setError();s.setCrole(t.value),console.log("loginnnn__: ",t.value,a.value),s.login(t.value,a.value),x.push("/"),s.setcachedComList(["calcPage"])}catch(u){console.error("handle_submit_ERR: ",u)}};return(u,e)=>(c(),p("div",y,[o("div",L,[e[2]||(e[2]=o("label",{for:"name"},"用户名",-1)),m(o("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=r=>t.value=r),required:"",placeholder:"请输入用户名"},null,512),[[v,t.value]])]),o("div",k,[e[3]||(e[3]=o("label",{for:"pwd"},"密码",-1)),m(o("input",{type:"text",id:"pwd","onUpdate:modelValue":e[1]||(e[1]=r=>a.value=r),required:"",placeholder:"请输入密码"},null,512),[[v,a.value]])]),o("button",{disabled:l.value,onClick:g},_(l.value?"登录中...":"登录"),9,w),n.value?(c(),p("div",C,_(n.value),1)):f("",!0)]))}},E=b(S,[["__scopeId","data-v-124354bd"]]);export{E as default};
